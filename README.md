# üìã Todo App

**Todo App** ‚Äî —ç—Ç–æ pet-–ø—Ä–æ–µ–∫—Ç —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≥–ª–∞–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –¥–ª—è –æ—Å–≤–æ–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å–¥–µ–ª–∞–Ω–æ —Å —Ü–µ–ª—å—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Go**
- **gRPC**
- **Kafka**
- **PostgreSQL**
- **Redis**
- **Docker-compose**
- **Prometheus**
- **Grafana**
- **Swagger**

## üìÇ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **api-gateway**: gRPC-Gateway –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ REST-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ gRPC-—Å–µ—Ä–≤–∏—Å—É `db-service`. –ü–æ—Å—ã–ª–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Kafka –≤ `metrics-service`.
- **db-service**: –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis.
- **metrics-service**: –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ —Å `api-gateway` –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –º–µ—Ç—Ä–∏–∫ –≤ Prometheus.
- **protos**: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å proto-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏.
- **migrations**: —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- **grafana**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è Grafana.
- **prometheus**: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è Prometheus.
- **scripts**: —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

<img src="docs/diag.png" alt="Architecture">

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

   ```bash
   git clone https://github.com/Promakash/todo_app.git
   cd todo_app
   ```

2. **–ó–∞–ø—É—Å–∫**

   –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –µ—Å—Ç—å –≤ `Makefile`.

   ```bash
   # –í—ã–ø–æ–ª–Ω—è–µ—Ç —á–∏—Å—Ç–æ–≤–æ–π –±–∏–ª–¥ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π proto, swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ª–∏–Ω—Ç–µ—Ä–æ–º
   make build
   ```

   ```bash
   # –í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   make run
   ```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### üì° –ú–µ—Ç—Ä–∏–∫–∏

–ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Prometheus:

- **http_requests_total**: –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∫–≤–µ—Å—Ç–æ–≤ –∫ —Å–µ—Ä–≤–∏—Å—É
- **method**: –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞
- **path**: –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞
- **http_request_duration**: –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ 
- **http_response_size_bytes**: —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –≤ –±–∞–π—Ç–∞—Ö

### üîó –î–æ—Å—Ç—É–ø –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É

- **Prometheus**: `http://localhost:9090`
- **Grafana**: `http://localhost:3000` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å: `admin` / `admin`)

## üóé –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8080/api/v1/docs/`
